# `papermill`

![*write once, publish everywhere*](http://upload.wikimedia.org/wikipedia/commons/thumb/1/19/Forest_Fibre_Company_Berlin%2C_New_Hampshire.JPG/220px-Forest_Fibre_Company_Berlin%2C_New_Hampshire.JPG)

**`papermill` is a toolchain for cross-publishing long form text** to different media. The text can be something like an academic paper or an essay; with output like static websites, an Ebook or a printable PDF.


# Was ist es nicht?

- (noch) kein "Produkt"
- nichteinmal zwingend fertige Produkt-Idee bzw welche Art von Produkt entstehen könnte
- Möglicherweise: All-in-One web interface bzw Infrastruktur-as-a-service


# Der Plan 

**Vereinfachung des Herstellens "langer Texte"** *(aus Sicht des Autors)*

- Lange Texte = ***long-form text***
    - "Bücher"; wissenschaftliche Arbeiten wie Papers, Dissertationen 
- *cross-publish*: Ein Quell-Text = verschiedene Ausgaben
- Nicht: Handbücher, Dokumentationen (Problem weitestgehend gelöst)
- Nicht: (klassisches) Content-Management (kein Fokus auf Autor)
    - Redaktions- und Verlagssysteme
    - `NoCMS 8)`
- Anspruch: Ein neues Dokument anzufangen sollte nicht komplizierter sein als ein Blatt Papier in seine Schreibmaschine zu spannen und loszuschreiben


# 2. Eine toolchain

- Werkzeug-Kette/Sammlung
- keine großen Eigenentwicklungen, (nicht "das Rad neu erfinden") *sondern:*
- **Integration** bestehender Bestandteile und **Werkzeuge** zu einer funktionierenden **Lösung**
- Syntax und Konvertierung (Markdown/`pandoc`), Versionskontrolle (`git`), etc
- Flexibilität:
    - Plain-Text
    - Modularität!
    - und: 100% Free/OpenSource-Software `\o/`

# 3. `mill.sh`

Referenz-Implementierung als shell-script(s)

- `mill new` -- "spannt das Papier in die Schreibmaschine"
- `mill web` -- exportiert zu HTML (**plain**, noch…)
- `mill print` -- exportiert zu PDF (via LaTeX)

# `mill` in the shell

~~~~~

$ mill
Usage: mill <command> [<args>]

Some useful mill commands are:
   check                  Check if something is working.
   commands               List all mill commands
   import                 Import a document and convert to Markdown.
   new                    Make a blank paper from the stationery.
   print                  Output to HTML
   shim                   Glue code, (platform) abstractions, nasty hacks.
   update                 Update mill cli tool from git.
   web                    Output to HTML

See 'mill help <command>' for information on a specific command.

~~~~~


# Eingebaute Gegenfrage 1

***Ist es nicht jetzt schon unglaublich einfach, digital zu schreiben?***

*Klar:* Laptop auf, Word an. Schreiben, formatieren, speichern, fertig.

*Aber:*

- kompliziertes, meist geschlossenes Dateiformat
- Format nur schwierig (sehr unsauber) übersetzbar (web, eBook, PDF)
- schwierige Kollaboration
- (auch `LaTeX` ist noch zu komplex… bzw ist Programmiersprache)

# Eingebaute Gegenfrage 2

***Kein Problem: Das macht ja alles der Verlag!***

- Genau das *ist* das eigentlich zu lösende Problem:
- Verlage = grundsätzlich "evil", **müssen** es sein (Kapitalismus)
    - Rechte-Byout, Verwaltungsoverhead
- Ansatz: OpenAccess (Infrastruktur, Druck durch Geldgeber)
- Papermill: Problemlösung kann nur beim Autor ansetzen! (= der Urheber)
- Verlage werden nicht überflüssig, aber viele Aufgaben sind dort fehl am Platz
    - Kernkompetenzen: Kuration, Distribution, Promotion
    - nicht einmal diese von jedem Autor "benötigt"

# OPP *(other people's problems)*

Folgende Punkte sind nicht im *scope* des Projektes:

- Kurze Texte/Sammlungen (➞ Blogs, facebook, twitter)
- Vergütung
- Gestaltung (Details später…)
- Soziale Integration der Kollaboration

# Roadmap

- `Papermill`: zu viel, zu ungenau, zu utopisch ➞ schlechtes Bachelor-Projekt
- Deshalb: Roadmap
    - **better web output** -- think "book as web application". This is currently done in pandoc-bootstrap.
    - better workflow (also as web app)
    - better collaboration by integrating even more with git


# pandoc-bootstrap

- Integriert das web-framework [`bootstrap`](http://getbootstrap.com) mit der HTML-Ausgabe von `pandoc`
- *Informatik-Klassiker:* [Trennung von Inhalt und Präsentation](http://en.wikipedia.org/wiki/Separation_of_presentation_and_content) (➞ `HTML`/`CSS`)
- *Genauer:* Aufteilung in **Inhalt + Formatierung** und **Präsentation / Design**
- (**Inhalt** = Text + Formatierung) ➞ Deshalb `Markdown`, plaintext ➞ *meaning*
- (**Präsentation** = Inhalt + Framework) ➞ Deshalb `bootstrap`
- (**Produkt** = Inhalt + Framework + Design)

# zum Beispiel

- `Das ist der Text.`
- Autor **meint**: Das Wort "`ist`" ist wichtig
- Autor **schreibt**: `Das *ist* der Text.`
- Im **`HTML`** steht: `Das <em>ist</em> der Text.`
    - (`<em>` == *empasis*, Hervorhebung)
- **Ausgabe**: Das *ist* der Text.
    - ist nur kursiv lt. Konvention 
    - implementierung: browser-default.css: `em {font-style:italic}`
- **Design** = Welche Schriftart? Wenn kein kursiver Schnitt, was dann?


# Vorher

![plain](https://dl.dropbox.com/s/2d5x0kkzhjevdzu/curie-html-plain.png?dl=1)

# Nachher (POC)

![`bootstrap`'d](https://dl.dropbox.com/s/rwsmxj20zrp15zq/curie-html-bootstrappoc.png?dl=1)

# Ziele

- "Buch" als web-application
- Andersherum gesagt: eBook und eBook-Reader in einem `HTML`!
- Erweiterung des frameworks um "buch"-spezifische Funktionen
- z.B. für Leser:
    - Inhaltsverzeichnis
    - Fußnoten!
    - Offline/LocalStorage, Lesezeichen, Notizen
- aber auch für Autor (Debug-Optionen)
    - z.B. farbige Hervorhebung von Zitaten
- u.v.m. `:)`

# Links

<https://github.com/NTS/PhD> \
<https://github.com/papermill> \
<http://www.enviv.de> \

Weiteres: \
<http://www.open-access.net>
<https://leanpub.com>

Software: \
<http://gitit.net> \
<http://documentup.com/papermill/documentation> \
<http://www.docverter.com>
<http://dillinger.io> \
<http://brackets.io> *from Adobe* `o_O` \

Änlich aber anders: \
<http://interior.substance.io> \


# BTW: Was habe ich eigentlich gegen "Bücher"

- "Buch" ist KEIN Medium sondern ein FORMAT
- Roman, Gedicht, Sachbuch (z.B. Biographie) sind Medien
- (Gleiches Problem wie bei "Zeitung", ist auch nicht "Nachrichten auf totem Holz", sondern "regelmäßige, redaktionell aufbereitete Nachrichten")
- Geschichte der langen Texte: von Schriftrolle zu Webseite -- das Buch kürzt sich weg!

# Thanks for your analog attention

![It turns out we were scrolling the hole time](http://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/PSF-scroll.png/519px-PSF-scroll.png)

